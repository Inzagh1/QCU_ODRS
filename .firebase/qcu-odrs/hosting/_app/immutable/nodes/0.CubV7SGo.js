import{s as h,n as c,a as v,u as y,g as x,b as D,o as L}from"../chunks/scheduler.MQulC-dI.js";import{S as g,i as $,e as T,c as C,m as M,n as R,g as w,d as S,s as k,k as q,f as A,l as F,o as H,q as d,r as m,u as O}from"../chunks/index.KfVzBilI.js";import{b as j,d as p,c as _,g as z,s as E,e as P}from"../chunks/store.3UrvVQ9z.js";function Q(i){let e,o='<div class="h-[0.4px] bg-slate-400"></div> <p class="text-sm ">Â© 2024 Quezon City University</p>';return{c(){e=T("footer"),e.innerHTML=o,this.h()},l(a){e=C(a,"FOOTER",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-hjakt7"&&(e.innerHTML=o),this.h()},h(){R(e,"class","flex px-4 py-1 bg-white drop-shadow-md fixed bottom-0 w-full")},m(a,r){w(a,e,r)},p:c,i:c,o:c,d(a){a&&S(e)}}}class U extends g{constructor(e){super(),$(this,e,null,Q,h,{})}}function B(i){let e,o,a;const r=i[1].default,s=v(r,i,i[0],null);return o=new U({}),{c(){s&&s.c(),e=k(),q(o.$$.fragment)},l(t){s&&s.l(t),e=A(t),F(o.$$.fragment,t)},m(t,n){s&&s.m(t,n),w(t,e,n),H(o,t,n),a=!0},p(t,[n]){s&&s.p&&(!a||n&1)&&y(s,r,t,t[0],a?D(r,t[0],n,null):x(t[0]),null)},i(t){a||(d(s,t),d(o.$$.fragment,t),a=!0)},o(t){m(s,t),m(o.$$.fragment,t),a=!1},d(t){t&&S(e),s&&s.d(t),O(o,t)}}}function G(i,e,o){let{$$slots:a={},$$scope:r}=e;const s=["/","/Student/Login"];return L(()=>{console.log("Mounting"),j.onAuthStateChanged(async t=>{const n=window.location.pathname;if(!t&&!s.includes(n)){window.location.href="/Student/Login";return}if(t&&n=="/"){window.location.href="/Student/Dashboard";return}if(!t)return;let l;const b=p(_,"users",t.uid),f=await z(b);if(f.exists())l=f.data();else{const u=p(_,"user",t.uid);l={email:t.email},await E(u,l,{merge:!0})}P.update(u=>({...u,user:t,data:l,loading:!1}))})}),i.$$set=t=>{"$$scope"in t&&o(0,r=t.$$scope)},[r,a]}class N extends g{constructor(e){super(),$(this,e,G,B,h,{})}}export{N as component};
